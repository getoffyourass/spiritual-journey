<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spiritual Journey</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <script src="https://unpkg.com/react-router-dom@5.2.0/umd/react-router-dom.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Previous styles remain the same */

        .translation-selector {
            margin-right: 1rem;
        }

        .reader-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: var(--blue-600);
        }

        .verse-container {
            position: relative;
        }

        .verse-actions {
            position: absolute;
            right: -2rem;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0;
            transition: opacity 0.2s;
        }

        .verse-container:hover .verse-actions {
            opacity: 1;
        }

        .action-button {
            padding: 0.25rem;
            background: none;
            border: none;
            cursor: pointer;
            color: var(--blue-600);
        }

        .action-button:hover {
            color: var(--primary-color);
        }

        /* Add loading spinner animation */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-spinner {
            width: 24px;
            height: 24px;
            border: 3px solid var(--blue-50);
            border-top-color: var(--blue-600);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { BrowserRouter, Route, Link, Switch, useHistory } = ReactRouterDOM;
        const { useState, useEffect } = React;

        // Bible data will be loaded dynamically
        let BIBLE_DATA = {};
        
        function BibleReader() {
            const [loading, setLoading] = useState(true);
            const [translation, setTranslation] = useState('kjv');
            const [book, setBook] = useState("Genesis");
            const [chapter, setChapter] = useState(1);
            const [bibleData, setBibleData] = useState(null);
            const history = useHistory();

            useEffect(() => {
                loadBibleTranslation(translation);
            }, [translation]);

            const loadBibleTranslation = async (trans) => {
                setLoading(true);
                try {
                    const response = await fetch(`/data/bible-${trans}.json`);
                    const data = await response.json();
                    BIBLE_DATA = data;
                    setBibleData(data);
                    setLoading(false);
                } catch (error) {
                    console.error('Error loading Bible data:', error);
                    setLoading(false);
                }
            };

            if (loading) {
                return (
                    <div className="app">
                        <div className="reader-container">
                            <div className="loading">
                                <div className="loading-spinner"></div>
                                <p>Loading Bible text...</p>
                            </div>
                        </div>
                    </div>
                );
            }

            const books = bibleData ? Object.keys(bibleData) : [];
            const chapters = book && bibleData ? 
                Array.from({length: Object.keys(bibleData[book]).length}, (_, i) => i + 1) : [];

            return (
                <div className="app">
                    <div className="reader-container">
                        <div className="reader-header">
                            <button className="back-button" onClick={() => history.push('/')}>
                                ‚Üê Back
                            </button>
                            <div className="reader-controls">
                                <select 
                                    className="translation-selector"
                                    value={translation}
                                    onChange={(e) => setTranslation(e.target.value)}
                                >
                                    <option value="kjv">King James Version</option>
                                    <option value="niv">New International Version</option>
                                    <option value="easy">Easy English</option>
                                </select>
                                <div className="chapter-selector">
                                    <select 
                                        value={book} 
                                        onChange={(e) => {
                                            setBook(e.target.value);
                                            setChapter(1);
                                        }}
                                    >
                                        {books.map(b => (
                                            <option key={b} value={b}>{b}</option>
                                        ))}
                                    </select>
                                    <select 
                                        value={chapter}
                                        onChange={(e) => setChapter(Number(e.target.value))}
                                    >
                                        {chapters.map(c => (
                                            <option key={c} value={c}>Chapter {c}</option>
                                        ))}
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div className="reader-content">
                            {bibleData && bibleData[book] && bibleData[book][chapter] &&
                                bibleData[book][chapter].map((verse, index) => (
                                    <div key={index} className="verse-container">
                                        <div className="verse">
                                            <span className="verse-number">{index + 1}</span>
                                            <span>{verse}</span>
                                        </div>
                                        <div className="verse-actions">
                                            <button className="action-button" title="Copy">
                                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                                    <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>
                                                    <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>
                                                </svg>
                                            </button>
                                            <button className="action-button" title="Bookmark">
                                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                                                    <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"></path>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                ))
                            }
                        </div>
                    </div>
                </div>
            );
        }

        // Rest of your components (NavigationMenu, Home, App) remain the same
    </script>
</body>
</html>
